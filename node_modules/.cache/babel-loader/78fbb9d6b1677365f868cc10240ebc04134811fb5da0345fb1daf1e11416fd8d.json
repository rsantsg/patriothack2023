{"ast":null,"code":"\"use strict\";\n\nlet util = require(\"../util\");\nlet positionX = require(\"./bk\").positionX;\nmodule.exports = position;\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n  positionY(g);\n  Object.entries(positionX(g)).forEach(([v, x]) => g.node(v).x = x);\n}\nfunction positionY(g) {\n  let layering = util.buildLayerMatrix(g);\n  let rankSep = g.graph().ranksep;\n  let prevY = 0;\n  layering.forEach(layer => {\n    const maxHeight = layer.reduce((acc, v) => {\n      const height = g.node(v).height;\n      if (acc > height) {\n        return acc;\n      } else {\n        return height;\n      }\n    }, 0);\n    layer.forEach(v => g.node(v).y = prevY + maxHeight / 2);\n    prevY += maxHeight + rankSep;\n  });\n}","map":{"version":3,"names":["util","require","positionX","module","exports","position","g","asNonCompoundGraph","positionY","Object","entries","forEach","v","x","node","layering","buildLayerMatrix","rankSep","graph","ranksep","prevY","layer","maxHeight","reduce","acc","height","y"],"sources":["/Users/ron/Documents/developer/patriothack/node_modules/@dagrejs/dagre/lib/position/index.js"],"sourcesContent":["\"use strict\";\n\nlet util = require(\"../util\");\nlet positionX = require(\"./bk\").positionX;\n\nmodule.exports = position;\n\nfunction position(g) {\n  g = util.asNonCompoundGraph(g);\n\n  positionY(g);\n  Object.entries(positionX(g)).forEach(([v, x]) => g.node(v).x = x);\n}\n\nfunction positionY(g) {\n  let layering = util.buildLayerMatrix(g);\n  let rankSep = g.graph().ranksep;\n  let prevY = 0;\n  layering.forEach(layer => {\n    const maxHeight = layer.reduce((acc, v) => {\n      const height = g.node(v).height;\n      if (acc > height) {\n        return acc;\n      } else {\n        return height;\n      }\n    }, 0);\n    layer.forEach(v => g.node(v).y = prevY + maxHeight / 2);\n    prevY += maxHeight + rankSep;\n  });\n}\n\n"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,IAAI,GAAGC,OAAO,CAAC,SAAS,CAAC;AAC7B,IAAIC,SAAS,GAAGD,OAAO,CAAC,MAAM,CAAC,CAACC,SAAS;AAEzCC,MAAM,CAACC,OAAO,GAAGC,QAAQ;AAEzB,SAASA,QAAQA,CAACC,CAAC,EAAE;EACnBA,CAAC,GAAGN,IAAI,CAACO,kBAAkB,CAACD,CAAC,CAAC;EAE9BE,SAAS,CAACF,CAAC,CAAC;EACZG,MAAM,CAACC,OAAO,CAACR,SAAS,CAACI,CAAC,CAAC,CAAC,CAACK,OAAO,CAAC,CAAC,CAACC,CAAC,EAAEC,CAAC,CAAC,KAAKP,CAAC,CAACQ,IAAI,CAACF,CAAC,CAAC,CAACC,CAAC,GAAGA,CAAC,CAAC;AACnE;AAEA,SAASL,SAASA,CAACF,CAAC,EAAE;EACpB,IAAIS,QAAQ,GAAGf,IAAI,CAACgB,gBAAgB,CAACV,CAAC,CAAC;EACvC,IAAIW,OAAO,GAAGX,CAAC,CAACY,KAAK,CAAC,CAAC,CAACC,OAAO;EAC/B,IAAIC,KAAK,GAAG,CAAC;EACbL,QAAQ,CAACJ,OAAO,CAACU,KAAK,IAAI;IACxB,MAAMC,SAAS,GAAGD,KAAK,CAACE,MAAM,CAAC,CAACC,GAAG,EAAEZ,CAAC,KAAK;MACzC,MAAMa,MAAM,GAAGnB,CAAC,CAACQ,IAAI,CAACF,CAAC,CAAC,CAACa,MAAM;MAC/B,IAAID,GAAG,GAAGC,MAAM,EAAE;QAChB,OAAOD,GAAG;MACZ,CAAC,MAAM;QACL,OAAOC,MAAM;MACf;IACF,CAAC,EAAE,CAAC,CAAC;IACLJ,KAAK,CAACV,OAAO,CAACC,CAAC,IAAIN,CAAC,CAACQ,IAAI,CAACF,CAAC,CAAC,CAACc,CAAC,GAAGN,KAAK,GAAGE,SAAS,GAAG,CAAC,CAAC;IACvDF,KAAK,IAAIE,SAAS,GAAGL,OAAO;EAC9B,CAAC,CAAC;AACJ"},"metadata":{},"sourceType":"script","externalDependencies":[]}