{"ast":null,"code":"var _jsxFileName = \"/Users/ron/Documents/developer/patriothack/src/components/LayoutFlow.js\",\n  _s = $RefreshSig$();\nimport Dagre from '@dagrejs/dagre';\nimport React, { useEffect, useCallback } from 'react';\nimport ReactFlow, { ReactFlowProvider, Panel, useNodesState, useEdgesState, useReactFlow } from 'reactflow';\nimport 'reactflow/dist/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialNodes = [{\n  id: '1',\n  type: 'custom',\n  data: {\n    label: 'input'\n  },\n  position: {\n    x: 0,\n    y: 0\n  }\n}, {\n  id: '2',\n  data: {\n    label: 'node 2'\n  },\n  position: {\n    x: -100,\n    y: 100\n  }\n}, {\n  id: '2a',\n  data: {\n    label: 'node 2a'\n  },\n  position: {\n    x: 0,\n    y: 100\n  }\n}, {\n  id: '2b',\n  data: {\n    label: 'node 2b'\n  },\n  position: {\n    x: 100,\n    y: 100\n  }\n}, {\n  id: '2c',\n  data: {\n    label: 'node 2c'\n  },\n  position: {\n    x: 150,\n    y: 100\n  }\n}, {\n  id: '2d',\n  data: {\n    label: 'node 2d'\n  },\n  position: {\n    x: -150,\n    y: 350\n  }\n}, {\n  id: '3',\n  data: {\n    label: 'node 3'\n  },\n  position: {\n    x: 100,\n    y: 100\n  }\n}];\nconst initialEdges = [{\n  id: 'e12',\n  source: '1',\n  target: '2',\n  animated: true\n}, {\n  id: 'e13',\n  source: '1',\n  target: '3',\n  animated: true\n}, {\n  id: 'e22a',\n  source: '2',\n  target: '2a',\n  animated: true\n}, {\n  id: 'e22b',\n  source: '2',\n  target: '2b',\n  animated: true\n}, {\n  id: 'e22c',\n  source: '2',\n  target: '2c',\n  animated: true\n}, {\n  id: 'e2c2d',\n  source: '2c',\n  target: '2d',\n  animated: true\n}];\nconst g = new Dagre.graphlib.Graph().setDefaultEdgeLabel(() => ({}));\nconst getLayoutedElements = (nodes, edges, options) => {\n  g.setGraph({\n    rankdir: options.direction\n  });\n  edges.forEach(edge => g.setEdge(edge.source, edge.target));\n  nodes.forEach(node => g.setNode(node.id, node));\n  Dagre.layout(g);\n  return {\n    nodes: nodes.map(node => {\n      const {\n        x,\n        y\n      } = g.node(node.id);\n      return {\n        ...node,\n        position: {\n          x,\n          y\n        }\n      };\n    }),\n    edges\n  };\n};\nconst LayoutFlow = () => {\n  _s();\n  useEffect(() => {\n    onLayout('TB');\n  }, []);\n  const {\n    fitView\n  } = useReactFlow();\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const onLayout = useCallback(direction => {\n    const layouted = getLayoutedElements(nodes, edges, {\n      direction\n    });\n    setNodes([...layouted.nodes]);\n    setEdges([...layouted.edges]);\n    window.requestAnimationFrame(() => {\n      fitView();\n    });\n  }, [nodes, edges]);\n  return /*#__PURE__*/_jsxDEV(ReactFlow, {\n    nodes: nodes,\n    edges: edges,\n    onNodesChange: onNodesChange,\n    fitView: true,\n    children: /*#__PURE__*/_jsxDEV(Panel, {\n      position: \"top-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onLayout('TB'),\n        children: \"vertical layout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onLayout('LR'),\n        children: \"horizontal layout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n_s(LayoutFlow, \"9GCqjxwWTunJQ9Ls9wOzilZXams=\", false, function () {\n  return [useReactFlow, useNodesState, useEdgesState];\n});\n_c = LayoutFlow;\nexport default function () {\n  return /*#__PURE__*/_jsxDEV(ReactFlowProvider, {\n    children: /*#__PURE__*/_jsxDEV(LayoutFlow, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 117,\n    columnNumber: 5\n  }, this);\n}\nvar _c;\n$RefreshReg$(_c, \"LayoutFlow\");","map":{"version":3,"names":["Dagre","React","useEffect","useCallback","ReactFlow","ReactFlowProvider","Panel","useNodesState","useEdgesState","useReactFlow","jsxDEV","_jsxDEV","initialNodes","id","type","data","label","position","x","y","initialEdges","source","target","animated","g","graphlib","Graph","setDefaultEdgeLabel","getLayoutedElements","nodes","edges","options","setGraph","rankdir","direction","forEach","edge","setEdge","node","setNode","layout","map","LayoutFlow","_s","onLayout","fitView","setNodes","onNodesChange","setEdges","onEdgesChange","layouted","window","requestAnimationFrame","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ron/Documents/developer/patriothack/src/components/LayoutFlow.js"],"sourcesContent":["import Dagre from '@dagrejs/dagre';\nimport React, { useEffect, useCallback } from 'react';\nimport ReactFlow, {\n  ReactFlowProvider,\n  Panel,\n  useNodesState,\n  useEdgesState,\n  useReactFlow,\n} from 'reactflow';\n\nimport 'reactflow/dist/style.css';\nconst initialNodes = [\n  {\n    id: '1',\n    type: 'custom',\n    data: { label: 'input' },\n    position: { x: 0, y: 0 },\n  },\n  {\n    id: '2',\n    data: { label: 'node 2' },\n    position: { x: -100, y: 100 },\n  },\n  {\n    id: '2a',\n    data: { label: 'node 2a' },\n    position: { x: 0, y: 100 },\n  },\n  {\n    id: '2b',\n    data: { label: 'node 2b' },\n    position: { x: 100, y: 100 },\n  },\n  {\n    id: '2c',\n    data: { label: 'node 2c' },\n    position: { x: 150, y: 100 },\n  },\n  {\n    id: '2d',\n    data: { label: 'node 2d' },\n    position: { x: -150, y: 350 },\n  },\n  {\n    id: '3',\n    data: { label: 'node 3' },\n    position: { x: 100, y: 100 },\n  },\n];\nconst initialEdges = [\n  { id: 'e12', source: '1', target: '2', animated: true },\n  { id: 'e13', source: '1', target: '3', animated: true },\n  { id: 'e22a', source: '2', target: '2a', animated: true },\n  { id: 'e22b', source: '2', target: '2b', animated: true },\n  { id: 'e22c', source: '2', target: '2c', animated: true },\n  { id: 'e2c2d', source: '2c', target: '2d', animated: true },\n];\nconst g = new Dagre.graphlib.Graph().setDefaultEdgeLabel(() => ({}));\n\nconst getLayoutedElements = (nodes, edges, options) => {\n  g.setGraph({ rankdir: options.direction });\n\n  edges.forEach((edge) => g.setEdge(edge.source, edge.target));\n  nodes.forEach((node) => g.setNode(node.id, node));\n\n  Dagre.layout(g);\n\n  return {\n    nodes: nodes.map((node) => {\n      const { x, y } = g.node(node.id);\n\n      return { ...node, position: { x, y } };\n    }),\n    edges,\n  };\n};\n\nconst LayoutFlow = () => {\n  useEffect(() => {\n    onLayout('TB');\n  }, []);\n  const { fitView } = useReactFlow();\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n\n  const onLayout = useCallback(\n    (direction) => {\n      const layouted = getLayoutedElements(nodes, edges, { direction });\n\n      setNodes([...layouted.nodes]);\n      setEdges([...layouted.edges]);\n\n      window.requestAnimationFrame(() => {\n        fitView();\n      });\n    },\n    [nodes, edges]\n  );\n\n  return (\n    <ReactFlow\n      nodes={nodes}\n      edges={edges}\n      onNodesChange={onNodesChange}\n      fitView\n    >\n      <Panel position=\"top-right\">\n        <button onClick={() => onLayout('TB')}>vertical layout</button>\n        <button onClick={() => onLayout('LR')}>horizontal layout</button>\n      </Panel>\n    </ReactFlow>\n  );\n};\n\nexport default function () {\n  return (\n    <ReactFlowProvider>\n      <LayoutFlow />\n    </ReactFlowProvider>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}