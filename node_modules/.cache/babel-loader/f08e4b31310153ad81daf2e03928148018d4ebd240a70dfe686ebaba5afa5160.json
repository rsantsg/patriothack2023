{"ast":null,"code":"var _jsxFileName = \"/Users/ron/Documents/developer/patriothack/src/components/LayoutFlow.js\",\n  _s = $RefreshSig$();\nimport Dagre from '@dagrejs/dagre';\nimport React, { useCallback } from 'react';\nimport ReactFlow, { ReactFlowProvider, Panel, useNodesState, useEdgesState, useReactFlow } from 'reactflow';\nimport { initialNodes, initialEdges } from './nodes-edges.js';\nimport 'reactflow/dist/style.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst g = new Dagre.graphlib.Graph().setDefaultEdgeLabel(() => ({}));\nconst getLayoutedElements = (nodes, edges, options) => {\n  g.setGraph({\n    rankdir: options.direction\n  });\n  edges.forEach(edge => g.setEdge(edge.source, edge.target));\n  nodes.forEach(node => g.setNode(node.id, node));\n  Dagre.layout(g);\n  return {\n    nodes: nodes.map(node => {\n      const {\n        x,\n        y\n      } = g.node(node.id);\n      return {\n        ...node,\n        position: {\n          x,\n          y\n        }\n      };\n    }),\n    edges\n  };\n};\nconst LayoutFlow = () => {\n  _s();\n  const {\n    fitView\n  } = useReactFlow();\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n  const onLayout = useCallback(direction => {\n    const layouted = getLayoutedElements(nodes, edges, {\n      direction\n    });\n    setNodes([...layouted.nodes]);\n    setEdges([...layouted.edges]);\n    window.requestAnimationFrame(() => {\n      fitView();\n    });\n  }, [nodes, edges]);\n  return /*#__PURE__*/_jsxDEV(ReactFlow, {\n    nodes: nodes,\n    edges: edges,\n    onNodesChange: onNodesChange,\n    onEdgesChange: onEdgesChange,\n    fitView: true,\n    children: /*#__PURE__*/_jsxDEV(Panel, {\n      position: \"top-right\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onLayout('TB'),\n        children: \"vertical layout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => onLayout('LR'),\n        children: \"horizontal layout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n_s(LayoutFlow, \"adesAZxWcmjSgPKmttmiS3y8QFA=\", false, function () {\n  return [useReactFlow, useNodesState, useEdgesState];\n});\n_c = LayoutFlow;\nexport default function () {\n  return /*#__PURE__*/_jsxDEV(ReactFlowProvider, {\n    children: /*#__PURE__*/_jsxDEV(LayoutFlow, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 5\n  }, this);\n}\nvar _c;\n$RefreshReg$(_c, \"LayoutFlow\");","map":{"version":3,"names":["Dagre","React","useCallback","ReactFlow","ReactFlowProvider","Panel","useNodesState","useEdgesState","useReactFlow","initialNodes","initialEdges","jsxDEV","_jsxDEV","g","graphlib","Graph","setDefaultEdgeLabel","getLayoutedElements","nodes","edges","options","setGraph","rankdir","direction","forEach","edge","setEdge","source","target","node","setNode","id","layout","map","x","y","position","LayoutFlow","_s","fitView","setNodes","onNodesChange","setEdges","onEdgesChange","onLayout","layouted","window","requestAnimationFrame","children","onClick","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/ron/Documents/developer/patriothack/src/components/LayoutFlow.js"],"sourcesContent":["import Dagre from '@dagrejs/dagre';\nimport React, { useCallback } from 'react';\nimport ReactFlow, {\n  ReactFlowProvider,\n  Panel,\n  useNodesState,\n  useEdgesState,\n  useReactFlow,\n} from 'reactflow';\n\nimport { initialNodes, initialEdges } from './nodes-edges.js';\nimport 'reactflow/dist/style.css';\n\nconst g = new Dagre.graphlib.Graph().setDefaultEdgeLabel(() => ({}));\n\nconst getLayoutedElements = (nodes, edges, options) => {\n  g.setGraph({ rankdir: options.direction });\n\n  edges.forEach((edge) => g.setEdge(edge.source, edge.target));\n  nodes.forEach((node) => g.setNode(node.id, node));\n\n  Dagre.layout(g);\n\n  return {\n    nodes: nodes.map((node) => {\n      const { x, y } = g.node(node.id);\n\n      return { ...node, position: { x, y } };\n    }),\n    edges,\n  };\n};\n\nconst LayoutFlow = () => {\n  const { fitView } = useReactFlow();\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\n\n  const onLayout = useCallback(\n    (direction) => {\n      const layouted = getLayoutedElements(nodes, edges, { direction });\n\n      setNodes([...layouted.nodes]);\n      setEdges([...layouted.edges]);\n\n      window.requestAnimationFrame(() => {\n        fitView();\n      });\n    },\n    [nodes, edges]\n  );\n\n  return (\n    <ReactFlow\n      nodes={nodes}\n      edges={edges}\n      onNodesChange={onNodesChange}\n      onEdgesChange={onEdgesChange}\n      fitView\n    >\n      <Panel position=\"top-right\">\n        <button onClick={() => onLayout('TB')}>vertical layout</button>\n        <button onClick={() => onLayout('LR')}>horizontal layout</button>\n      </Panel>\n    </ReactFlow>\n  );\n};\n\nexport default function () {\n  return (\n    <ReactFlowProvider>\n      <LayoutFlow />\n    </ReactFlowProvider>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}